(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{369:function(t,s,a){"use strict";a.r(s);var n=a(42),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"预渲染初探"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#预渲染初探"}},[t._v("#")]),t._v(" 预渲染初探")]),t._v(" "),a("p",[t._v("在尝试优化自己做的地图应用访问速度时解除了预渲染概念，记录一下预渲染特点和简单实战")]),t._v(" "),a("h2",{attrs:{id:"预渲染优点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#预渲染优点"}},[t._v("#")]),t._v(" 预渲染优点")]),t._v(" "),a("ol",[a("li",[t._v("预渲染可以优化 SEO，当你只需要改善某些页面的 SEO 时，不必使用 SSR，只需要使用预渲染即可。")]),t._v(" "),a("li",[t._v("预渲染可以实现将静态组件和图层保存到静态 HTML 文件中，用户请求页面时，这些事先保存的静态内容可以直接渲染，不必事先进行一次 diff 算法，可以提升页面响应速度。")])]),t._v(" "),a("h2",{attrs:{id:"避免使用预渲染的场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#避免使用预渲染的场景"}},[t._v("#")]),t._v(" 避免使用预渲染的场景")]),t._v(" "),a("ol",[a("li",[t._v("大量路由： 如果站点路由有成百上千个，使用预渲染生成文件时将非常缓慢，虽然每次生成部署文件只需要执行一次，但是大部分用户并不会访问所有路由内容。")]),t._v(" "),a("li",[t._v("动态内容： 如果渲染页面是特定用户查看的内容，或者有其他源获取的动态内容，使用预渲染可能会在加载前显示占位符组件，直到动态内容加载到客户端位置，这样会提供一种比较奇怪的体验。")])]),t._v(" "),a("h2",{attrs:{id:"简单实战"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简单实战"}},[t._v("#")]),t._v(" 简单实战")]),t._v(" "),a("p",[t._v("在 vue.config.js 或者 webpack.config.js 中使用")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  configureWebpack"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PrerenderSPAPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打包生成项目的路径")]),t._v("\n        staticDir"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dist'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要渲染的路由")]),t._v("\n        routes"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/about"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/login"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/register"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);